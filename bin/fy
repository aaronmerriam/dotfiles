#!/usr/bin/env bash
#----------------------------------------------
#    A little notification program
#----------------------------------------------
if [[ "$#" -lt 1 ]] || [[ "$1" == "-h" ]] || [[ "$1" == "--help" ]]; then
  cat <<HEREDOC
fy, a little notification program
fy runs a command and then notifies you that the
command has finished running using notify-send.

Usage:
      fy command

Options:
      -h, --help            Show this help screen
HEREDOC
else
  task=''
  for arg in $@
  do
    task="$task$arg "
  done
  echo $task
  $@
  if [[ "$?" -eq 0 ]]; then
    notify-send 'completed task' "$task"

    exit 0
  else
    notify-send -u critical 'task failed!' "$task"
    echo -ne '\a'

    exit 1
  fi
fi
